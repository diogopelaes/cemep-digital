# Generated by Django 6.0 on 2025-12-20 20:28

import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('academic', '0001_initial'),
        ('core', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Aula',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data', models.DateField(verbose_name='Data')),
                ('conteudo', models.TextField(verbose_name='Conteúdo Ministrado')),
                ('numero_aulas', models.PositiveSmallIntegerField(default=1, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(4)], verbose_name='Número de Aulas (Geminadas)')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('disciplina_turma', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='aulas', to='core.disciplinaturma')),
                ('professor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='aulas', to='core.funcionario')),
            ],
            options={
                'verbose_name': 'Aula',
                'verbose_name_plural': 'Aulas',
                'ordering': ['-data'],
                'unique_together': {('professor', 'disciplina_turma', 'data')},
            },
        ),
        migrations.CreateModel(
            name='PlanoAula',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_inicio', models.DateField(verbose_name='Data Início')),
                ('data_fim', models.DateField(verbose_name='Data Fim')),
                ('conteudo', models.TextField(verbose_name='Conteúdo')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('disciplina', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='planos_aula', to='core.disciplina')),
                ('habilidades', models.ManyToManyField(blank=True, related_name='planos_aula', to='core.habilidade')),
                ('professor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='planos_aula', to='core.funcionario')),
                ('turmas', models.ManyToManyField(related_name='planos_aula', to='core.turma')),
            ],
            options={
                'verbose_name': 'Plano de Aula',
                'verbose_name_plural': 'Planos de Aula',
                'ordering': ['-data_inicio'],
            },
        ),
        migrations.CreateModel(
            name='Recuperacao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bimestre', models.PositiveSmallIntegerField(choices=[(1, '1º Bimestre'), (2, '2º Bimestre'), (3, '3º Bimestre'), (4, '4º Bimestre')], verbose_name='Bimestre')),
                ('data_prova', models.DateField(blank=True, null=True, verbose_name='Data da Prova')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('disciplina', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='recuperacoes', to='core.disciplina')),
                ('matriculas_turma', models.ManyToManyField(related_name='recuperacoes', to='academic.matriculaturma')),
                ('professor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recuperacoes', to='core.funcionario')),
            ],
            options={
                'verbose_name': 'Recuperação',
                'verbose_name_plural': 'Recuperações',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='TipoOcorrencia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('texto', models.CharField(max_length=100, verbose_name='Descrição do Tipo')),
                ('ativo', models.BooleanField(default=True)),
                ('gestor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tipos_ocorrencia_criados', to='core.funcionario')),
            ],
            options={
                'verbose_name': 'Tipo de Ocorrência',
                'verbose_name_plural': 'Tipos de Ocorrências',
                'ordering': ['texto'],
            },
        ),
        migrations.CreateModel(
            name='OcorrenciaPedagogica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data', models.DateTimeField(auto_now_add=True)),
                ('texto', models.TextField(verbose_name='Descrição')),
                ('autor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ocorrencias_criadas', to='core.funcionario')),
                ('estudante', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ocorrencias_pedagogicas', to='academic.estudante')),
                ('tipo', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ocorrencias', to='pedagogical.tipoocorrencia')),
            ],
            options={
                'verbose_name': 'Ocorrência Pedagógica',
                'verbose_name_plural': 'Ocorrências Pedagógicas',
                'ordering': ['-data'],
            },
        ),
        migrations.CreateModel(
            name='Faltas',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('aula_numero', models.PositiveSmallIntegerField(help_text='Número da aula no dia (1, 2, 3 ou 4)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(4)], verbose_name='Aula Nº')),
                ('aula', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='faltas', to='pedagogical.aula')),
                ('estudante', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='faltas', to='academic.estudante')),
            ],
            options={
                'verbose_name': 'Falta',
                'verbose_name_plural': 'Faltas',
                'unique_together': {('aula', 'estudante', 'aula_numero')},
            },
        ),
        migrations.CreateModel(
            name='NotaBimestral',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bimestre', models.PositiveSmallIntegerField(choices=[(1, '1º Bimestre'), (2, '2º Bimestre'), (3, '3º Bimestre'), (4, '4º Bimestre'), (5, '5º Conceito (Conselho)')], verbose_name='Bimestre')),
                ('nota', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('10.00'))], verbose_name='Nota')),
                ('nota_recuperacao', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('10.00'))], verbose_name='Nota de Recuperação')),
                ('disciplina_turma', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notas', to='core.disciplinaturma')),
                ('matricula_turma', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notas', to='academic.matriculaturma')),
            ],
            options={
                'verbose_name': 'Nota Bimestral',
                'verbose_name_plural': 'Notas Bimestrais',
                'unique_together': {('matricula_turma', 'disciplina_turma', 'bimestre')},
            },
        ),
        migrations.CreateModel(
            name='OcorrenciaResponsavelCiente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ciente', models.BooleanField(default=False)),
                ('data_ciencia', models.DateTimeField(blank=True, null=True)),
                ('ocorrencia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ciencias', to='pedagogical.ocorrenciapedagogica')),
                ('responsavel', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ciencias_ocorrencias', to='academic.responsavel')),
            ],
            options={
                'verbose_name': 'Ciência de Ocorrência',
                'verbose_name_plural': 'Ciências de Ocorrências',
                'unique_together': {('responsavel', 'ocorrencia')},
            },
        ),
        migrations.CreateModel(
            name='NotificacaoRecuperacao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('visualizado', models.BooleanField(default=False)),
                ('data_visualizacao', models.DateTimeField(blank=True, null=True)),
                ('estudante', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notificacoes_recuperacao', to='academic.estudante')),
                ('recuperacao', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notificacoes', to='pedagogical.recuperacao')),
            ],
            options={
                'verbose_name': 'Notificação de Recuperação',
                'verbose_name_plural': 'Notificações de Recuperação',
                'unique_together': {('recuperacao', 'estudante')},
            },
        ),
    ]
