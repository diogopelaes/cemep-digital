# Generated by Django 6.0 on 2026-01-13 19:31

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('academic', '0002_initial'),
        ('core', '0002_initial'),
        ('evaluation', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name='avaliacao',
            name='criado_por',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='avaliacoes_criadas', to=settings.AUTH_USER_MODEL, verbose_name='Criado por'),
        ),
        migrations.AddField(
            model_name='avaliacao',
            name='professores_disciplinas_turmas',
            field=models.ManyToManyField(blank=True, related_name='avaliacoes', to='core.professordisciplinaturma', verbose_name='Professores/Disciplinas/Turmas'),
        ),
        migrations.AddField(
            model_name='configuracaoavaliacaogeral',
            name='ano_letivo',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='configuracao_avaliacao', to='core.anoletivo', verbose_name='Ano Letivo'),
        ),
        migrations.AddField(
            model_name='configuracaoavaliacaoprofessor',
            name='ano_letivo',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='configuracoes_avaliacao_professores', to='core.anoletivo', verbose_name='Ano Letivo'),
        ),
        migrations.AddField(
            model_name='configuracaoavaliacaoprofessor',
            name='professor',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='configuracoes_avaliacao', to='core.funcionario', verbose_name='Professor'),
        ),
        migrations.AddField(
            model_name='controlevisto',
            name='arquivos',
            field=models.ManyToManyField(blank=True, related_name='vistos', to='core.arquivo', verbose_name='Arquivos'),
        ),
        migrations.AddField(
            model_name='controlevisto',
            name='matricula_turma',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vistos', to='academic.matriculaturma'),
        ),
        migrations.AddField(
            model_name='controlevisto',
            name='professor_disciplina_turma',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vistos', to='core.professordisciplinaturma'),
        ),
        migrations.AddField(
            model_name='notaavaliacao',
            name='avaliacao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notas', to='evaluation.avaliacao'),
        ),
        migrations.AddField(
            model_name='notaavaliacao',
            name='matricula_turma',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notas_avaliacoes', to='academic.matriculaturma'),
        ),
        migrations.AddField(
            model_name='notabimestral',
            name='matricula_turma',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notas_bimestrais', to='academic.matriculaturma'),
        ),
        migrations.AddField(
            model_name='notabimestral',
            name='professor_disciplina_turma',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notas_bimestrais', to='core.professordisciplinaturma'),
        ),
        migrations.AlterUniqueTogether(
            name='configuracaoavaliacaoprofessor',
            unique_together={('ano_letivo', 'professor')},
        ),
        migrations.AlterUniqueTogether(
            name='controlevisto',
            unique_together={('matricula_turma', 'professor_disciplina_turma', 'titulo')},
        ),
        migrations.AlterUniqueTogether(
            name='notaavaliacao',
            unique_together={('avaliacao', 'matricula_turma')},
        ),
        migrations.AlterUniqueTogether(
            name='notabimestral',
            unique_together={('matricula_turma', 'professor_disciplina_turma', 'bimestre')},
        ),
    ]
